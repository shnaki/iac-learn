{
  "name": "iac-learn",
  "dockerComposeFile": [
    "docker-compose.workspace.yml"
  ],
  "service": "workspace",
  "workspaceFolder": "/workspaces/iac-learn",
  "initializeCommand": [
    "docker",
    "compose",
    "-p",
    "iac-learn-infra",
    "-f",
    "docker-compose.yml",
    "up",
    "-d",
    "--wait"
  ],
  "features": {
    "ghcr.io/devcontainers/features/terraform:1": {},
    "ghcr.io/devcontainers/features/aws-cli:1": {},
    "ghcr.io/devcontainers/features/docker-in-docker:2": {}
  },
  "remoteEnv": {
    "PATH": "${containerWorkspaceFolder}/scripts:${containerEnv:PATH}",
    "LOCALSTACK_HOST": "localstack:4566",
    "LOCALSTACK_HOSTNAME": "localstack",
    "UV_PROJECT_ENVIRONMENT": "/home/vscode/.venv",
    "LOCALSTACK_AUTH_TOKEN": "${localEnv:LOCALSTACK_AUTH_TOKEN}"
  },
  "postCreateCommand": "bash .devcontainer/post-create.sh",
  "customizations": {
    "vscode": {
      "settings": {
        "python.defaultInterpreterPath": "/home/vscode/.venv/bin/python"
      },
      "extensions": [
        "hashicorp.terraform",
        "ms-python.python"
      ]
    }
  }
}
